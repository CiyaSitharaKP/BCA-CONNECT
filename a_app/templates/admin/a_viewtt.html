<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>BCA Connect - Timetable</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  {% comment %} <!-- Favicons -->
  <link href="/static/College/assets/img/favicon.png" rel="icon">
  <link href="/static/College/assets/img/apple-touch-icon.png" rel="apple-touch-icon"> {% endcomment %}

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="/static/College/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="/static/College/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="/static/College/assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="/static/College/assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="/static/College/assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="/static/College/assets/css/main.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: College
  * Template URL: https://bootstrapmade.com/college-bootstrap-education-template/
  * Updated: Jun 19 2025 with Bootstrap v5.3.6
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body class="index-page">

  <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="header-container container-fluid container-xl position-relative d-flex align-items-center justify-content-center">

      

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="/admin_welcome/" >Home</a></li>
          <li class="dropdown"><a href="#" ><span>Staff</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul>
              <li><a href="/admin_add_staff/">Add Staff</a></li>
              <li><a href="/admin_view_staff/">View Staff</a></li>
            </ul>
          </li>
          <li class="dropdown"><a href="#" ><span>Students</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul>
              <li><a href="/admin_add_student/">Add Students </a></li>
              <li><a href="/admin_view_student/">View Students </a></li>
            </ul>
          </li>
          <li class="dropdown"><a href="#" ><span>Subjects</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul>
              <li><a href="/admin_add_subject/">Add Subjects</a></li>
              <li><a href="/admin_view_subject/">View Subjects</a></li>
              <li><a href="/admin_assign_subject/">Assign Faculty</a></li>
            </ul>
          </li>
          <li class="dropdown"><a href="#" class="active"><span>Timetable</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul>
              <li><a href="/admin_add_timetable/">Add Timetable</a></li>
              <li><a href="/admin_view_timetable/">View Timetable</a></li>
            </ul>
          </li>
          <li class="dropdown"><a href="#"><span>Academic Calendar</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul>
              <li><a href="/admin_add_events/">Add Academic Calendar</a></li>
              <li><a href="/admin_view_calender/">View Academic Calendar</a></li>
            </ul>
          </li>
          <li><a href="/admin_view_feedback/"  > Feedback and Queries</a></li>
          <li class="dropdown"><a href="#"><span>Announcements</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul>
              <li><a href="/admin_add_announcements/">Add Announcements</a></li>
              <li><a href="/admin_view_announcements/">View Announcements</a></li>
            </ul>
          </li>
          <li class="dropdown"><a href="#"><span style="font-weight: 900;">Admin</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul>
              <li><a href="/admin_change_password/">Change Password</a></li>
              <li><a href="/logout/">Logout</a></li>
            </ul>
          </li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>

    </div>
  </header>

  <main class="main">

    <section id="stats" class="stats section">

        <div class="container section-title" data-aos="fade-up">
        <h2>Timetable</h2>
      </div><!-- End Section Title -->

        <div class="container" data-aos="fade-up" data-aos-delay="500">
          <div class="row justify-content-center">
            <div class="col-lg-10 text-start">
              <div class="row text-center mb-4">
        {% for sem in semesters %}
        <div class="col-md-2 mb-3">
          <button
            class="btn btn-info w-100"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#sem{{ sem.id }}Content"
            aria-expanded="false"
            aria-controls="sem{{ sem.id }}Content"
          >
            S{{ sem.SEM.sem }} {{ sem.YEAR.year }}
          </button>
        </div>
        {% endfor %}
      </div>
      {% for sem in semesters %}
  <div class="collapse mt-3" id="sem{{ sem.id }}Content">
    <div class="card p-3 shadow-sm mb-4">
      <h5 class="text-center fw-bold mb-3">
        Semester {{ sem.SEM.sem }} - {{ sem.YEAR.year }}
      </h5>

      {% with sem_tts=timetables|dictsort:"day" %}
        {% regroup sem_tts by day as day_list %}
        
        {% for day_group in day_list %}
          {% with entries=day_group.list|dictsort:"start_time" %}
            {% if entries.0.SEM.id == sem.id %}
              <h5 class="bg-secondary text-white text-center py-2 rounded mt-4">
                {{ day_group.grouper }}
              </h5>

              <table class="table table-bordered table-striped mt-2 mb-4">
                <thead class="table-secondary text-center">
                  <tr>
                    <th>Start</th>
                    <th>End</th>
                    <th>Subject</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  {% for t in entries %}
                    {% if t.SEM.id == sem.id %}
                      <tr class="text-center align-middle">
                        <td>{{ t.start_time|time:"H:i" }}</td>
                        <td>{{ t.end_time|time:"H:i" }}</td>
                        <td>{{ t.SUBJECT.code }} - {{ t.SUBJECT.name }}</td>
                        <td>
                          <div class="btn-group">
                            <a href="/admin_edit_tt/{{ t.id }}/" class="btn btn-sm btn-primary">Edit</a>
                            <a href="/admin_delete_tt/{{ t.id }}/" class="btn btn-sm btn-danger">Delete</a>
                          </div>
                        </td>
                      </tr>
                    {% endif %}
                  {% endfor %}
                </tbody>
              </table>
            {% endif %}
          {% endwith %}
        {% empty %}
          <p class="text-center text-muted">No timetable entries found.</p>
        {% endfor %}
      {% endwith %}
    </div>
  </div>
{% endfor %}


            </div>
          </div>
        </div>
      </section>


  </main>

  <footer id="footer" class="footer position-relative light-background">

  <div class="container footer-top">
    <div class="row gy-4">

      <!-- About BCA Connect -->
      <div class="col-lg-4 col-md-6 footer-about">
        <a href="/" class="logo d-flex align-items-center">
          <span class="sitename">BCA Connect</span>
        </a>
        <div class="footer-contact pt-3">
          <p>Department of Computer Applications</p>
          <p>XYZ College, Calicut, Kerala</p>
          <p class="mt-3"><strong>Support:</strong> <span>+91 98765 43210</span></p>
          <p><strong>Email:</strong> <span>studenthelp@bcaconnect.in</span></p>
        </div>
        <div class="social-links d-flex mt-4">
          <a href="#"><i class="bi bi-instagram"></i></a>
          <a href="#"><i class="bi bi-linkedin"></i></a>
          <a href="#"><i class="bi bi-youtube"></i></a>
        </div>
      </div>

      <!-- Quick Links -->
      <div class="col-lg-2 col-md-3 footer-links">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="/admin_welcome/">Dashboard</a></li>
          <li><a href="/admin_view_staff/">Staff</a></li>
          <li><a href="/admin_view_student/">Students</a></li>
          <li><a href="/staff_view_feedback/">Feedback</a></li>
        </ul>
      </div>

      <!-- Learning Resources -->
      <div class="col-lg-2 col-md-3 footer-links">
        <h4>Resources</h4>
        <ul>
          <li><a href="/admin_view_subject/">Subjects</a></li>
          <li><a href="/admin_view_timetable/">Timetable</a></li>
          <li><a href="/admin_view_calender/">Academic Calendar</a></li>
          <li><a href="/admin_view_announcements/">Announcements</a></li>
        </ul>
      </div>

      <!-- Staff Support -->
      <div class="col-lg-2 col-md-3 footer-links">
        <h4>Staff Support</h4>
        <ul>
          <li><a href="/admin_change_password/">Change Password</a></li>
          <li><a href="#">Help & FAQs</a></li>
          <li><a href="/logout/">Logout</a></li>
        </ul>
      </div>

    </div>
  </div>

  <div class="container copyright text-center mt-4">
    <p>Â© <strong class="px-1 sitename">BCA Connect</strong> | Empowering Students, One Click at a Time</p>
    <div class="credits">
      Built  by the Department of Computer Applications, XYZ College
    </div>
  </div>

</footer>


  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="/static/College/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="/static/College/assets/vendor/php-email-form/validate.js"></script>
  <script src="/static/College/assets/vendor/aos/aos.js"></script>
  <script src="/static/College/assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="/static/College/assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="/static/College/assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
  <script src="/static/College/assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="/static/College/assets/vendor/glightbox/js/glightbox.min.js"></script>

  <!-- Main JS File -->
  <script src="/static/College/assets/js/main.js"></script>

</body>

</html>